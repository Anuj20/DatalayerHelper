<!DOCTYPE html>
<html lang="en">
<head>
  <title>Datalayer Tagging Helper</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script src="https://cdn.rawgit.com/beautify-web/js-beautify/v1.13.6/js/lib/beautify.js"></script>
<script src="https://cdn.rawgit.com/beautify-web/js-beautify/v1.13.6/js/lib/beautify-css.js"></script>
<script src="https://cdn.rawgit.com/beautify-web/js-beautify/v1.13.6/js/lib/beautify-html.js"></script>

  
</head>
<body>

<h1 style="margin: 2px 2px 2px 4px">Datalayer Tagging Helper</h1>
<hr class="solid" style="border-top: 3px solid #bbb">

<div class="container" style="display: inline-block">

<div class="container">

<p>Datalayer helper is one of its kind tagging aid which allows you to create all types of tagging guides with ease. It currently supports <strong>datalayer declaration</strong>, <strong>datalayer.push</strong> events and selected <strong> Ecommerce</strong> events with more implementation support coming out soon. No more long hours of checking the tagging guide and say ciao to tagging mistakes. Please provide your feedback to <a href="mailto:anuj.bansal@evalueserve.com">anuj.bansal@evalueserve.com</a></p>

<p style="display: inline">To get started, please choose the preferred event type: </p>
<select id ="dldropdown" name="dropdown" style="margin-bottom:8px;display: inline">
  <option value='select'>Select Tagging Type</option>
  <option value='declare'>Datalayer Declaration</option>
  <option value='push'>Datalayer Push</option>
  <option value='ecomm'>Ecommerce</option>
 </select> 

 <label style="margin-left:16px ;" for="dlName">DataLayer Name:</label>
 <input type="text" style="padding: 2px;border: 1px solid;margin-bottom:8px" name="dlName" value="dataLayer" id="dlName" >

 <button id="clearall" onclick="clearall()" style="border:1px solid;float:right;border-radius:5px">Clear All</button>
</div> 
<div class="container" id="MainContainer"></div>
<div class="container" id="EcommContainer"></div>

<div id="error" class="container"></div>
<div id="divfunctionButtons" class="container">
<button type="button" id="addMore" class="addMore datadeclare" style="display: inline;visibility:hidden">+ Add another</button>

<button type="button" id="dataGenerate" onclick="generateCode()" style="display: inline;margin-top:8px;margin-bottom:8px;visibility:hidden">Generate</button>
</div>
<div class="container"> 
<div id="taggingcode" style="border-color:coral;border: 2px solid; border-radius: 10px;padding: 4px; height: 100px;visibility:hidden;word-wrap: break-word">
Here goes the tagging code
</div>
<span id="jsbeautfier" style="visibility:hidden">It is recommended to beautify the code using <a href="https://beautifier.io/">JS beautifier</a></span>
</div>


<div id="datalayerdec" class="container-fluid datalayer datalayerdec" style="padding: 0 2px 2px 0;visibility:hidden">
<div class="input-group keyvalue" style="padding: 0 2px 2px 0">
    <input type="text" class="form-control key" id="key" onfocus="removeerrormsg()" placeholder="Key" style="display: inline;border: 1px solid">
	<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline"><b>:</b></p>
    <input type="text" class="form-control value" onfocus="removeerrormsg()" id="value" placeholder="Value" style="display: inline;border: 1px solid">
	<img id="removeIcon" onclick="removeNode()" src="Images\/images.jpg" alt="remove row" style="visibility:hidden">
</div>
</div>

<div id="datalayerPush" class="container-fluid datalayer datalayerPush" style="padding: 0 2px 2px 0;visibility:hidden">

<div class="input-group keyvalue" style="padding: 0 2px 2px 0; margin-bottom: 20px">
    <label class="my-auto" style="height:100%;display: inline;margin-bottom: 0px;vertical-align: baseline"><strong>Enter the Event Name</strong></label>
	<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline;vertical-align: baseline"><b>:</b></p>
	<input type="text" class="form-control value" id="value" onfocus="removeerrormsg()" placeholder="Value" style="display: inline;border: 1px solid;max-width: 80%;border-radius: 8px;"></div>
</div>

<div id="datalayerEcomm" class="container-fluid datalayer datalayerEcomm" style="padding: 0 2px 2px 0;visibility:hidden">

<div class="input-group keyvalue" style="padding: 0 2px 2px 0">
 <label class="my-auto" style="height:100%;display: inline;margin-bottom: 0px;vertical-align: baseline">Choose the Ecommerce Event </label>
<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline;vertical-align: baseline"><b>:</b></p>
<select class="my-auto" id ="ecommdropdown" name="dropdown" onfocus="removeerrormsg()" style="margin-bottom:8px;display: inline">
  <option value='choose'>Select</option>
  <option value='impression'>Product Impression</option>
  <option value='click'>Product Click</option>
  <option value='details'>Product View</option>
  <option value='addtocart'>Product Add to Cart</option>
    <option value='removecart'>Remove from Cart</option>
   <option value='checkout'>Product Checkout</option>
   <option value='checkoutopt'>Checkout Option</option>
    <option value='purchase'>Product Purchase</option>
	<option value='fullrefund'>Full Refund</option>
	<option value='partrefund'>Partial Refund</option>
	
</select>
<input type="checkbox" id="useevent" name="Event"  style="margin-left:40px;margin-right:4px;display: inline;vertical-align:sub;visibility:hidden">
  <label for="Useevent" style="visibility:hidden">Use Event</label><br>
</div>
</div>

<div id="datalayerecommevent" class="container-fluid datalayer datalayerecommevent" style="padding: 0 2px 2px 0;visibility:hidden">
<h1>Event Details</h1>

<div id="divproducts" class="container divproducts" style="border:3px solid; margin-bottom:8px;margin-left:8px;padding-left:4px;padding-top:2px">

<button id="addnewproduct" style="margin:4px"> Add product</button>

<div class="container divproductparams" style="border:1px solid; margin-bottom:8px;margin-left:8px;padding-left:4px;padding-top:2px">
<button id="productparams" onclick="addProdParam(this)" style="display:inline-block;margin-bottom:4px">Add product parameter</button>
<img id="removeIcon" onclick="removeNode(this)" src="Images\/close.png" alt="remove row" style="visibility:inherit;max-height:20px;max-width:20px;float: right">
<div class="input-group keyvalue productparams" style="padding: 0 2px 2px 0">
<input list="prodparams" class="form-control key" onfocus="removeerrormsg()" id="key" placeholder="Product parameter name" style="display: inline;border: 1px solid"/>
	<datalist id="prodparams" >
	<option>name</option>
	<option>id</option>
	<option>price</option>
	<option>brand</option>
	<option>category</option>
	<option>variant</option>
	<option>list</option>
	<option>position</option>	
	<option>coupon</option>
	</datalist>
	<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline"><b>:</b></p>
    <input type="text" class="form-control value" id="value" onfocus="removeerrormsg()" placeholder="Product parameter Value" style="display: inline;border: 1px solid">
	<img id="removeIcon" onclick="removeNode(this)" src="Images\/images.jpg" alt="remove row" style="visibility:inherit">
</div>
</div>
</div>

<div id="diveventparams" class="container" style="border:3px solid; margin-bottom:8px;margin-left:8px;padding-left:4px;padding-top:2px">
<button id="eventparams" style="display:inline;margin-bottom:4px">Add event parameter</button>
<p style="display: inline;">[optional]</p>
<div class="input-group keyvalue eventparams" style="padding: 0 2px 2px 0">
    <input type="text" class="form-control key" id="key" onfocus="removeerrormsg()" placeholder="Parameter name" style="display: inline;border: 1px solid">
	<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline"><b>:</b></p>
    <input type="text" class="form-control value" onfocus="removeerrormsg()" id="value" placeholder="Paramater Value" style="display: inline;border: 1px solid">
	<img id="removeIcon" onclick="removeNode(this)" src="Images\/images.jpg" alt="remove row" style="visibility:inherit">
</div>

</div>

<div id="divactionfieldparams" class="container" style="border:3px solid; margin-bottom:8px;margin-left:8px;padding-left:4px;padding-top:2px">
	<button id="actionfieldparams" style="display:block;margin-bottom:4px">Add action field</button>
<div class="input-group keyvalue actionfieldparams" style="padding: 0 2px 2px 0">
<input list="afparams" type="text" class="form-control key" placeholder="Action field Name" id="key" onfocus="removeerrormsg()" style="display: inline;border: 1px solid"/>
	<datalist id="afparams">
	<option>list</option>
	<option>step</option>
	<option>option</option>
	<option>id</option>
	<option>affiliation</option>
	<option>revenue</option>
	<option>tax</option>
    <option>shipping</option>	
	<option>coupon</option>	
	</datalist>
	<p class="my-auto" style="margin-left:4px;margin-right:4px;display: inline"><b>:</b></p>
    <input type="text" class="form-control value" id="value" onfocus="removeerrormsg()" placeholder="Action field Value" style="display: inline;border: 1px solid">
	<img id="removeIcon" onclick="removeNode(this)" src="Images\/images.jpg" alt="remove row" style="visibility:inherit">
</div>
</div>


</div>

</div>
<script src="datalayerhelper.js"></script>
</body>
</html>